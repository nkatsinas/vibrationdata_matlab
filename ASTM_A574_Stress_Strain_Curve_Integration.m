%
%   ASTM A574 Stress-Strain Curve Integration
%

clear stress_strain;
clear energy;

disp(' ');
diam=input(' Enter diameter (in) ');
radius=diam/2;
L=input(' Enter length (in) ');
V=pi*radius^2*L;

    stress_strain=[  0         0
    0.0005    0.3334
    0.0010    0.6668
    0.0015    1.0003
    0.0020    1.3337
    0.0025    1.6671
    0.0030    2.0274
    0.0035    2.4244
    0.0040    2.8213
    0.0045    3.2182
    0.0050    3.6152
    0.0055    4.0121
    0.0060    4.4481
    0.0065    4.9424
    0.0070    5.4367
    0.0075    5.9310
    0.0080    6.4253
    0.0085    6.9196
    0.0090    7.4635
    0.0095    8.0589
    0.0100    8.6543
    0.0105    9.2497
    0.0110   10.2371
    0.0115   11.2578
    0.0120   12.2785
    0.0125   13.4351
    0.0130   14.6259
    0.0135   15.8167
    0.0140   17.0075
    0.0145   18.1028
    0.0150   19.1235
    0.0155   20.1442
    0.0160   21.1649
    0.0165   22.1855
    0.0170   23.2404
    0.0175   24.6144
    0.0180   25.9884
    0.0185   27.3623
    0.0190   28.7363
    0.0195   30.1103
    0.0200   31.5951
    0.0205   33.3416
    0.0210   35.0881
    0.0215   36.8346
    0.0220   38.6624
    0.0225   40.4944
    0.0230   42.3264
    0.0235   44.1584
    0.0240   45.9904
    0.0245   47.8185
    0.0250   49.6253
    0.0255   51.4320
    0.0260   53.2387
    0.0265   55.0109
    0.0270   56.7801
    0.0275   58.5493
    0.0280   60.3205
    0.0285   62.2258
    0.0290   64.1310
    0.0295   66.0363
    0.0300   67.9416
    0.0305   69.8520
    0.0310   71.7666
    0.0315   73.6812
    0.0320   75.5958
    0.0325   77.5104
    0.0330   79.4250
    0.0335   81.3430
    0.0340   83.2615
    0.0345   85.1800
    0.0350   87.0985
    0.0355   89.0887
    0.0360   91.0914
    0.0365   93.0941
    0.0370   95.0968
    0.0375   97.0995
    0.0380   98.9602
    0.0385  100.8126
    0.0390  102.6649
    0.0395  104.5172
    0.0400  106.3696
    0.0405  108.5505
    0.0410  110.7578
    0.0415  112.9652
    0.0420  115.1725
    0.0425  117.2374
    0.0430  119.0417
    0.0435  120.8459
    0.0440  122.6501
    0.0445  124.4945
    0.0450  126.3583
    0.0455  128.2222
    0.0460  130.0860
    0.0465  131.9499
    0.0470  133.8177
    0.0475  135.6890
    0.0480  137.5602
    0.0485  139.4315
    0.0490  141.3027
    0.0495  143.0878
    0.0500  144.8587
    0.0505  146.6297
    0.0510  148.4006
    0.0515  150.1720
    0.0520  151.9438
    0.0525  153.7156
    0.0530  155.4841
    0.0535  157.2440
    0.0540  159.0038
    0.0545  160.7637
    0.0550  162.5235
    0.0555  164.2834
    0.0560  165.8161
    0.0565  167.0984
    0.0570  168.3808
    0.0575  169.6632
    0.0580  170.9456
    0.0585  172.2280
    0.0590  173.1984
    0.0595  174.0196
    0.0600  174.8409
    0.0605  175.6621
    0.0610  176.4833
    0.0615  177.3046
    0.0620  178.0637
    0.0625  178.5865
    0.0630  179.1093
    0.0635  179.6320
    0.0640  180.1548
    0.0645  180.5828
    0.0650  180.9563
    0.0655  181.3299
    0.0660  181.7035
    0.0665  182.0771
    0.0670  182.4507
    0.0675  182.5705
    0.0680  182.6763
    0.0685  182.7822
    0.0690  182.8880
    0.0695  182.9939
    0.0700  182.8169
    0.0705  182.6184
    0.0710  182.4199
    0.0715  182.2215
    0.0720  182.0230
    0.0725  181.8246
    0.0730  181.5096
    0.0735  180.8216
    0.0740  180.1336
    0.0745  179.4456
    0.0750  178.7576
    0.0755  178.0923
    0.0760  177.5082
    0.0765  176.9240
    0.0770  176.3398
    0.0775  175.7557
    0.0780  175.1715
    0.0785  174.5484
    0.0790  173.8381
    0.0795  173.1278
    0.0800  172.4175
    0.0805  171.7072
    0.0810  170.9969
    0.0815  170.2867
    0.0820  169.4797
    0.0825  168.6678
    0.0830  167.8558
    0.0835  167.0439
    0.0840  166.2256
    0.0845  165.2688
    0.0850  164.3120
    0.0855  163.3552
    0.0860  162.3984
    0.0865  161.1278
    0.0870  159.6333
    0.0875  158.2051];


energy(:,1)=stress_strain(:,1);

dt=stress_strain(2,1)-stress_strain(1,1);

energy(:,2)=1000*V*dt*cumtrapz(stress_strain(:,2));

figure(1);
plot(stress_strain(:,1),stress_strain(:,2));
grid on;
xlabel('Strain');
ylabel('Stress (ksi)');
title('Stress-Strain ASTM A574');

figure(2);
plot(energy(:,1),energy(:,2));
xlabel('Strain');
ylabel('Energy (lbf in)');
title('Energy ASTM A574');
grid on;


